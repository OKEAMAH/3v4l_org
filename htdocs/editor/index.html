<html>
<head>
	<script src="http://ajax.googleapis.com/ajax/libs/mootools/1.4.5/mootools-yui-compressed.js"></script>

	<script src="shjs/lang/sh_php.js"></script>
	<script src="shjs/sh_main.js"></script>

	<script src="LRTEditor.js"></script>
	<script src="LRTEditor.MinimalPlugin.js"></script>
	<script src="LRTEditor.UndoPlugin.js"></script>

	<link rel="stylesheet" href="style.css" />
	<script type="text/javascript">
	window.addEvent('domready', function(){
			new LRTEditor($('c'), [
				'UndoPlugin',
				'MinimalPlugin',
			]); });
	</script>
</head>

<body>
	<code class="sh_php" contentEditable="true" id="c">&lt;?php

class Stuff
{
	/*
		Important comment
	*/
	public static function countObjTypes( array $data, array $types )
	{
#		$return['Other'] = 0;

		foreach ( ( array ) $data as $obj ) {
			$set = false;
			array_walk( $types, function( $type ) use ( $obj, &amp;$return, &amp;$set )
			{
				if ( is_a( $obj, $type ) ) {
					$return[$type]++;
					$set = true;
				}
			} );
		}

		return $return;
	}
}

// An example of how to use it
$form  = new Form( 'Form', 'post' );

$honeyPot1 = new HoneyPotField( time() );
$honeyPot1-&gt;validator( new Validator( new HoneyPotTimeRule( 'This form was filled in too quickly, assumed bot, please allow 2 seconds to fill in the form' ) ) );
$honeyPot2 = new HoneyPotField();
$honeyPot2-&gt;validator( new Validator( new EqualRule( 'This field was unexpectedly filled in, assumed bot', '' ) ) );

if( $form-&gt;isSubmitted() )
	$form-&gt;validate(  );
echo $form-&gt;render(  ); // outputs the form + elements</code>
	</body>
</html>
