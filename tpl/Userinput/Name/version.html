{!-- disabled by default so non-js people will still submit fully, instead of quick (because input is located in normal form by default) --}

<select class="{if ($this->input->required)}required {/}{state}" name="version" id="version" disabled="disabled">
	{!-- fetch values manually since Basic_Userinput::getHtmlFor will not run init(), not populating the values --}

	{foreach (PhpShell_Action_New::getPreviewVersions() as $this->value)}
		{if (isset($prev) && substr($prev, 0, 3) != substr($this->value, 0, 3))}
			</optgroup>
		{/}

		{if (!isset($prev) || substr($prev, 0, 3) != substr($this->value, 0, 3))}
			<optgroup label="{print rtrim(substr($this->value, 0, 4), '.');}">
		{/}
		<option{if ($this->value == $this->rawValue)} selected="selected"{/}>
			{value}
		{$prev = $this->value;}
	{/}
	</optgroup>
</select>