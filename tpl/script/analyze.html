{$r = $this->input->getAnalyze();}

{if (0 == count($r))}
	No HHVM analyzer output found, please wait for process to complete. Parser errors might also cause this
{:}
	{$messages = json_decode($r->getSingle()->output->getRaw($this->input, 'hhvm-analyze'));}

	{if (empty($messages))}
		No messages from HHVM analyzer
	{:}
		{PhpShell_Action_Script::sortAnalyzeByLine($messages);}

		<table>
			<thead>
				<th>Line #</th>
				<th>Message</th>
				<th>Target</th>
			</thead>
		<tbody>
		{foreach ($messages as $v)}
			<tr>
				<td>{print htmlspecialchars($v[1]->c1[1]);}</td>
				<td>{print htmlspecialchars($v[0]);}</td>
				<td>{print htmlspecialchars($v[1]->d);}</td>
			</tr>
		{/}
		</tbody>
		</table>
		<p>Generated using <a href="http://hhvm.com/">Hhvm analyze</a>, using hhvm 3.2.0</p>
	{/}
{/}
