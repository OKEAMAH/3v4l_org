<div itemscope itemtype="http://schema.org/Article">
	{if (isset($this->input->title))}
		<meta itemprop="name" content="{input->title}" />
	{:}
		<meta itemprop="name" content="{input->short}" />
	{/}

	{!-- render form for Action_New manually --}
	<form method="post" action="/new" id="newForm">
		<div>
			<input type="text" name="title" id="title" size="48" maxlength="64" value="{input->title}" placeholder="Untitled" />
			<time itemprop="datePublished" datetime="{input->getCreatedUtc()}">@ {input->getCreatedUtc('r')}</time>
		</div>

		<div>
			<textarea name="code" style="display:none;"></textarea>
			<code itemprop="articleBody">{code}</code>
		</div>

		<div id="options">
			<div>
				<select class="valid" name="version" id="version" disabled="disabled">
					{foreach ($this->quickVersionList as $this->version)}
						<option>{version}</option>
					{/}
				</select>
			</div>

			<div>
				<input class="valid" name="archived" id="archived_1" value="1" type="checkbox" />
				<label for="archived_1" title="{if ($this->input->runArchived)}[v] {/}Include PHP versions that are older than 3 years">eol versions</label>
			</div>

			{if (isset($this->input->source) && !isset($this->input->source->runQuick))}
				<div><a itemprop="isBasedOnUrl" href="/{input->source->short}"><i class="icon-share-alt"></i>based on {input->source->short}</a></div>
			{/}

			{if (isset($this->input->user))}
				<div><a itemprop="author" rel="external" href="/~{input->user->name}"><i class="icon-user"></i>created by {input->user->name}</a></div>
			{/}
		</div>

		{if (in_array($this->input->state, array('new', 'done', 'busy')))}
			<input type="submit" value="eval();" class="{input->state}" title="shortcut: ctrl+enter" disabled="disabled" />
		{/}
	</form>

	<noscript>
		{if ('busy' == $this->input->state)}
			<meta http-equiv="refresh" content="1" />
		{/}

		<div class="alert warning">
			<h2>Enable javascript to submit</h2>
			<p>You have javascript disabled. You will not be able to edit any code.</p>
		</div>
	</noscript>

	{if (in_array($this->input->short, ['ji79d', 'VhEtd']))}
		<div class="alert notice">
			<h2>Looking for PHP 7.0.6 bugs?</h2>
			<p>
				Version 7.0.6 was released twice by the PHP Team. We're using the latest version; <br/>
				meaning this script no longer shows the bug which the original release had.<br/><br/>
				The bugs that were fixed in the second release are <a href="https://bugs.php.net/72116">72116</a> and <a href="https://bugs.php.net/72119">72119</a>.
			</p>
		</div>
	{/}

	{if (in_array($this->input->state, ['misbehaving', 'abusive']))}
		<div class="alert error">
			<h2>Abusive script</h2>
			<p>This script was stopped while abusing our resources</p>
		</div>
	{/}
	{if ($this->input->state == 'new')}
		<div class="alert notice">
			<h2>Oops, something is wrong</h2>
			<p>Something has broken; if this happens frequently please let me know</p>
		</div>
	{/}
	{if ($this->input->state == 'verbose')}
		<div class="alert warning">
			<h2>Verbose script</h2>
			<p>This script was stopped because it was generating too much output</p>
		</div>
	{/}

	<ul id="tabs"{if ('done' != $this->input->state)} class="{input->state}"{/}>
	{foreach (Basic::$userinput->tab->values as $this->link => $this->name)}
		{if (empty($this->name)) continue;}

		{if (isset($this->showTab[ $this->link ]) && false == $this->showTab[ $this->link ])}
			<li class="disabled" title="not available"><a>
		{:}
			{if ($this->link == Basic::$userinput['tab'])}
				<li itemprop="articleSection" class="active">
			{:}
				<li>
			{/}

			<a href="/{input->short}{if ($this->link != 'output')}/{link}{/}#tabs">
		{/}

			{name}</a>
		</li>
	{/}

	</ul>

	<div id="tab" itemprop="articleBody">
		{$this->show('script/'.Basic::$userinput['tab']);}
	</div>
</div>